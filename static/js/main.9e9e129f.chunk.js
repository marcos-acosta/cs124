(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},243:function(e,t,n){},244:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){"use strict";n.r(t);var a=n(5),c=n.n(a),i=n(109),o=n.n(i),s=n(6),r=n(18),d=n(24),l=n(57),u=n(37),j=n(60),b=(n(122),n(123),n(7)),m=[1,2,3],O=["low","medium","high"];function p(e){var t=e.taskInEditModeId===e.id;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"toDoLowerHalf"}),Object(b.jsxs)("div",{className:"toDoItemOptions",children:[Object(b.jsx)("button",{className:"editButton toDoItemActionButton ".concat(t?"grayText":""),onClick:e.onClickEditButton,"aria-label":"edit task name: ".concat(e.taskName),children:"edit"}),Object(b.jsx)("button",{className:"deleteButton toDoItemActionButton ".concat(t?"grayText":""),onClick:function(){return e.handleDeletion()},"aria-label":"delete task: ".concat(e.taskName),children:"delete"}),Object(b.jsx)("div",{}),m.map((function(t,n){return function(t,n){return Object(b.jsx)("button",{className:"priorityButton ".concat(e.priority===t?"whiteText selectedPriority":""),onClick:function(){return e.handleChangePriority(t)},"aria-label":"".concat(e.priority===t?"deselect":"select"," priority level for task ").concat(e.taskName," to ").concat(O[t-1]),children:"!".repeat(t)},n)}(t,n)}))]})]})}n(125);function f(e){return Object(b.jsx)("div",{className:"toDoCheckbox",children:Object(b.jsx)("input",{type:"checkbox",id:"label-".concat(e.id),checked:e.checked,onChange:e.handleCompletion,"aria-label":"".concat(e.checked?"uncomplete":"complete",' task "').concat(e.taskName,'"')})})}var k=n(115);function h(e){var t=e.value,n=e.onChange,c=e.returnRef,i=e.longText,o=Object(k.a)(e,["value","onChange","returnRef","longText"]),s=Object(a.useState)(t.length),l=Object(r.a)(s,2),u=l[0],j=l[1],m=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=m.current;e&&e.setSelectionRange(u,u),c(m)}),[c,m,u,t]);var O=function(e){j(e.target.selectionStart),n&&n(e)};return i?Object(b.jsx)("textarea",Object(d.a)({ref:m,value:t,onChange:O},o)):Object(b.jsx)("input",Object(d.a)({ref:m,value:t,onChange:O},o))}n(126);function x(e){return Object(b.jsx)("div",{className:"toDoLabel",children:e.taskInEditModeId!==e.id?Object(b.jsx)("label",{id:"label-".concat(e.id),className:e.isCompleted||e.shouldFadeOut?"strikethrough":"",children:e.expandedTaskId===e.id?e.taskName:(t=e.taskName,t.length>80?t.slice(0,80)+"\u2026":t)}):Object(b.jsx)(h,{longText:!0,value:e.taskName,onChange:function(t){return e.setTaskProperty(e.id,"taskName",function(e){for(;-1!==e.indexOf("\n");)e=e.replace("\n","");return e}(t.target.value))},onKeyUp:function(t){"Enter"===t.key&&(t.preventDefault(),e.setTaskInEditModeId(null))},returnRef:function(t){return e.returnRef(t)},onBlur:e.deselectOnEditMode,"aria-label":"edit task name"})});var t}n(127);function I(e){var t=e.expandedId===e.id;return Object(b.jsx)("button",{className:"toDoOptions",onClick:function(){return e.expandTaskCallback(e.id)},"aria-label":"".concat(t?"hide":"show"," task options"),children:Object(b.jsx)("div",{className:"toDoDropdown ".concat(t?e.color?"color_".concat(e.color,"_bg"):"selected":""),children:Object(b.jsx)("div",{className:"optionsArrow ".concat(t?"rotated":""),children:"\u2794"})})})}n(128);var v=["low","medium","high"];function N(e){var t,n=Object(a.useState)(!1),c=Object(r.a)(n,2),i=c[0],o=c[1],s=Object(a.useRef)(null);function l(){o(!0),setTimeout((function(){return e.deleteTask(e.id)}),500)}return Object(a.useEffect)((function(){s.current&&e.taskInEditModeId===e.id&&s.current.focus()}),[e.taskInEditModeId,e.id]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"priorityMarker supportsInvisibility ".concat(i?"invisible":""),children:(t=e.priority,Object(b.jsx)("div",{className:"priorityExclamationDiv priority".concat(t),"aria-label":'task "'.concat(e.taskName,'" has ').concat(0===t?"no":v[t-1]," priority")}))}),Object(b.jsxs)("div",{className:"toDoItem supportsInvisibility ".concat(i?"invisible":""," ").concat(e.expandedTaskId===e.id?"highlighted":""),children:[Object(b.jsx)(f,{id:e.id,checked:e.isCompleted,handleCompletion:function(t){o(!0);var n=t.target.checked;setTimeout((function(){return e.setTaskProperty(e.id,"isCompleted",n)}),500)},taskName:e.taskName}),Object(b.jsx)(x,Object(d.a)(Object(d.a)({},e),{},{textInput:s,deselectOnEditMode:function(){e.setTaskInEditModeId(null),e.taskName||l()},shouldFadeOut:i,returnRef:function(e){s=e}})),!e.isCompleted&&Object(b.jsx)(I,{id:e.id,expandedId:e.expandedTaskId,expandTaskCallback:e.expandTaskCallback,color:e.color}),e.expandedTaskId===e.id&&Object(b.jsx)(p,{priority:e.priority,taskName:e.taskName,id:e.id,taskInEditModeId:e.taskInEditModeId,handleChangePriority:function(t){e.priority===t?e.setTaskProperty(e.id,"priority",0):e.setTaskProperty(e.id,"priority",t)},onClickEditButton:function(){e.setTaskInEditModeId(e.id)},handleDeletion:l})]})]})}n(129);function T(e){return Object(b.jsx)("div",{className:"taskListDiv",children:e.tasks.map((function(t){return Object(a.createElement)(N,Object(d.a)(Object(d.a)({},t),{},{key:t.id,expandedTaskId:e.expandedTaskId,expandTaskCallback:e.toggleExpandedTaskId,setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask,setTaskInEditModeId:e.setTaskInEditModeId,taskInEditModeId:e.taskInEditModeId,color:e.color}))}))})}n(130);function C(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),c=n[0],i=n[1];return Object(b.jsxs)("div",{className:"completedSectionContainer ".concat(c?"invisible":""),children:[Object(b.jsx)("div",{id:"completedItemsHeader",children:Object(b.jsxs)("h3",{children:["completed",Object(b.jsx)("button",{id:"clearCompleted",onClick:function(){i(!0),setTimeout((function(){return e.deleteCompleted()}),500)},"aria-label":"delete completed tasks. tasks to be completed: ".concat(e.tasks.map((function(e){return e.taskName})).join()),children:"clear"})]})}),Object(b.jsx)(T,{tasks:e.tasks,setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask})]})}n(131);function g(e){return Object(b.jsx)("button",{className:"addItem ".concat(e.isNarrow?"addItemNarrow":"addItemWide"," ").concat(e.color?"".concat(e.color):""),onClick:function(){return e.addTaskAndEdit()},disabled:e.inEditMode,"aria-label":e.longText,children:e.isNarrow?"+ ".concat(e.longText):"+"})}n(132);function y(e){return Object(b.jsx)("select",{onChange:function(t){return e.onChangeCallback(t.target.value)},className:"optionSelector",children:e.options.map((function(e,t){var n=Object(r.a)(e,2),a=n[0],c=n[1];return Object(b.jsx)("option",{value:a,children:c},t)}))})}n(133);function E(e){return Object(b.jsxs)("div",{className:"mainDiv",children:[Object(b.jsx)("h3",{children:"todo \ud83e\udd91"}),e.lists.map((function(t){return Object(b.jsx)("button",{onClick:function(){return e.setCurrentListId(t.id)},className:"listButton ".concat(e.currentListId===t.id?t.colorTheme?"color_".concat(t.colorTheme,"_bg"):"selected":""),"aria-label":"Switch to list: ".concat(t.listName),children:Object(b.jsx)("span",{className:e.currentListId===t.id?"bold":"",children:t.listName})},t.id)}))]})}n(134);function M(e){return Object(b.jsx)("div",{className:"infoText ".concat(e.error?"errorText":""),children:e.error?"an unexpected error occurred: ".concat(e.error):"loading..."})}var L=[["oldestTop","oldest"],["newestTop","newest"],["taskName","name"],["priority","priority"]];function w(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],i=n[1],o=e.lists.find((function(t){return t.id===e.currentListId}));function s(){var t=e.addTask();e.setTaskInEditModeId(t),i(t)}return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"headerRow",children:[Object(b.jsx)("button",{onClick:function(){return e.setCurrentListId(null)},className:"backButton","aria-label":"back to list menu",children:"\u2190 back"}),Object(b.jsx)("div",{className:"toDoHeader",children:Object(b.jsx)("h2",{className:o?"color_".concat(o.colorTheme,"_ul"):"",children:o.listName})})]}),Object(b.jsxs)("div",{id:"pageContent",children:[Object(b.jsxs)("div",{className:"noTopMargin",children:[Object(b.jsx)("div",{className:"sortByText",children:"sort by:"}),Object(b.jsx)(y,{options:L,onChangeCallback:e.setOrderingBy})]}),e.loading?Object(b.jsx)(M,{}):e.error?Object(b.jsx)(M,{error:e.error}):Object(b.jsxs)(b.Fragment,{children:[0===e.data.filter((function(e){return!e.isCompleted})).length&&Object(b.jsx)("button",{className:"noTasksPlaceholder",onClick:s,children:"add a task!"}),Object(b.jsx)(T,{tasks:e.data.filter((function(e){return!e.isCompleted})),setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask,taskInEditModeId:e.taskInEditModeId,setTaskInEditModeId:e.setTaskInEditModeId,toggleExpandedTaskId:function(e){i(c===e?null:e)},expandedTaskId:c,color:o.colorTheme}),0===e.data.filter((function(e){return e.isCompleted})).length?"":Object(b.jsx)(C,{deleteCompleted:e.deleteCompleted,tasks:e.data.filter((function(e){return e.isCompleted})),setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask})]})]}),Object(b.jsx)(g,{inEditMode:!(null===e.taskInEditModeId&&!e.loading),addTaskAndEdit:s,isNarrow:e.isNarrow,longText:"add task",color:"color_".concat(o.colorTheme,"_bg")})]})}var P=function(e){return e.isDesktopWide?Object(b.jsxs)("div",{className:"pageColumnsDiv",children:[Object(b.jsx)("div",{className:"listSelector",children:Object(b.jsx)(E,{lists:e.lists,setCurrentListId:e.setCurrentListId,currentListId:e.currentListId})}),Object(b.jsx)("div",{children:Object(b.jsx)(w,Object(d.a)({},e))})]}):Object(b.jsx)(w,Object(d.a)({},e))},D=n(45);function S(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],i=n[1],o=Object(a.useState)(null),m=Object(r.a)(o,2),O=m[0],p=m[1],f=Object(a.useState)("created"),k=Object(r.a)(f,2),h=k[0],x=k[1],I=e.db.collection("lists").doc(e.currentListId).collection("tasks"),v=Object(l.a)(I),N=Object(r.a)(v,3),T=N[0],C=N[1],g=N[2],y=Object(D.useMediaQuery)({maxWidth:500}),E=Object(D.useMediaQuery)({minWidth:800}),M={priority:function(e,t){return L(t).priority-L(e).priority},taskName:function(e,t){return L(e).taskName.toLowerCase()<L(t).taskName.toLowerCase()?-1:1},newestTop:function(e,t){return L(e).created<L(t).created?1:-1},oldestTop:function(e,t){return L(e).created<L(t).created?-1:1}};Object(a.useEffect)((function(){C||g||i(O?T.docs.map((function(e){return e.data()})).find((function(e){return e.id===O})):null)}),[O,C,g,T&&T.docs.length]);var L=function(e){return c&&e.id===c.id?c:e},w=function(e){I.doc(e).delete()};return Object(b.jsx)(P,Object(d.a)(Object(d.a)({},e),{},{setTaskProperty:function(e,t,n){I.doc(e).update(Object(s.a)({},t,n))},deleteTask:w,deleteCompleted:function(){return T.docs.map((function(e){return e.data()})).filter((function(e){return e.isCompleted})).forEach((function(e){return w(e.id)}))},setOrderingBy:x,addTask:function(){var e=Object(j.a)();return I.doc(e).set({taskName:"",isCompleted:!1,id:e,created:u.a.database.ServerValue.TIMESTAMP,priority:0}),e},data:C?null:T.docs.map((function(e){return e.data()})).sort(M[h]),loading:C,error:g,taskInEditModeId:O,setTaskInEditModeId:p,isNarrow:y,isDesktopWide:E,lists:e.lists}))}var B=n(114),A=(n(243),{"#2274a5":"blue","#dc493a":"red","#662c91":"purple","#4a442d":"olive","#70ae6e":"green"}),R=Object.fromEntries(Object.entries(A).map((function(e){var t=Object(r.a)(e,2),n=t[0];return[t[1],n]})));function _(e){var t=Object(a.useRef)(null),n=Object(a.useState)(!1),c=Object(r.a)(n,2),i=c[0],o=c[1],s=Object(a.useState)(!1),d=Object(r.a)(s,2),l=d[0],u=d[1];Object(a.useEffect)((function(){t.current&&e.listInEditModeId===e.id&&t.current.focus()}),[e.listInEditModeId,e.id]);var j=function(){e.setListInEditModeId(null),e.listName||m()},m=function(){o(!0),setTimeout((function(){return e.deleteList(e.id)}),500)};return Object(b.jsxs)("div",{className:"listCard supportsInvisibility ".concat(i?"invisible":""),children:[Object(b.jsxs)("div",{className:"listCardLeftPanel",children:[Object(b.jsx)("button",{onClick:function(){return u(!l)},className:"colorDropdown ".concat("default"!==e.colorTheme?"color_".concat(e.colorTheme,"_bg"):""),children:Object(b.jsx)("div",{className:"dropDownArrow ".concat(l?"flipped":""),"aria-label":"Select color theme for list: ".concat(e.listName),children:"\u2335"})}),l&&Object(b.jsx)("div",{className:"colorPickerDiv",children:Object(b.jsx)(B.a,{color:R[e.colorTheme],onChangeComplete:function(t){e.setListProperty(e.id,"colorTheme",A[t.hex.toLowerCase()]),u(!1)},colors:Object.keys(A),className:"float",triangle:"hide"})})]}),e.listInEditModeId===e.id?Object(b.jsx)(h,{value:e.listName,onChange:function(t){return e.setListProperty(e.id,"listName",t.target.value)},onKeyUp:function(e){"Enter"===e.key&&j()},onBlur:function(){return j()},returnRef:function(e){t=e},className:"listNameInput","aria-label":"edit list name"}):Object(b.jsx)("div",{className:"listName",onClick:function(){return e.setCurrentListId(e.id)},children:e.listName}),Object(b.jsx)("button",{onClick:function(){return e.setListInEditModeId(e.id)},className:"listActionButton linkButton editButton","aria-label":"edit list name: ".concat(e.listName),children:"edit"}),Object(b.jsx)("button",{onClick:function(){return m()},className:"listActionButton linkButton deleteButton","aria-label":"delete list: ".concat(e.listName),children:"delete"}),Object(b.jsx)("button",{onClick:function(){return e.setCurrentListId(e.id)},className:"listActionButton openButton","aria-label":"view tasks in list: ".concat(e.listName),children:"\u2794"})]})}n(244);function F(e){var t=Object(a.useState)(null),n=Object(r.a)(t,2),c=n[0],i=n[1],o=Object(D.useMediaQuery)({maxWidth:500}),s=function(){i(e.addList())};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"header",children:Object(b.jsxs)("h4",{children:[Object(b.jsx)("span",{className:"todo",children:"todo"})," \ud83e\udd91"]})}),Object(b.jsx)("div",{className:"listContainer",children:e.loading?Object(b.jsx)(M,{}):e.error?Object(b.jsx)(M,{error:e.error}):Object(b.jsxs)(b.Fragment,{children:[0===e.lists.length&&Object(b.jsx)("button",{className:"noListsPlaceholder",onClick:s,children:"create a task list!"}),e.lists.map((function(t){return Object(a.createElement)(_,Object(d.a)(Object(d.a)(Object(d.a)({},e),t),{},{key:t.id,listInEditModeId:c,setListInEditModeId:i}))}))]})}),Object(b.jsx)(g,{isNarrow:o,addTaskAndEdit:s,inEditMode:c,longText:"add list"})]})}n(245);function W(e){var t=e.db.collection("lists"),n=Object(l.a)(t),c=Object(r.a)(n,3),i=c[0],o=c[1],d=c[2],m=Object(a.useState)(null),O=Object(r.a)(m,2),p=O[0],f=O[1];return Object(b.jsx)("div",{className:"minWidthContainer",children:p?Object(b.jsx)(S,{currentListId:p,lists:!o&&!d&&i.docs.map((function(e){return e.data()})),db:e.db,setCurrentListId:f}):Object(b.jsx)(F,{lists:o||d?[]:i.docs.map((function(e){return e.data()})),setCurrentListId:f,deleteList:function(e){t.doc(e).delete()},addList:function(){var e=Object(j.a)();return t.doc(e).set({listName:"",id:e,created:u.a.database.ServerValue.TIMESTAMP,colorTheme:"blue"}),e},setListProperty:function(e,n,a){t.doc(e).update(Object(s.a)({},n,a))},loading:o,error:d})})}u.a.initializeApp({apiKey:"AIzaSyAZ7Q00Z5zGKg2DOwM4qGRsPRgbRIsAoRw",authDomain:"todosquid-adb18.firebaseapp.com",projectId:"todosquid-adb18",storageBucket:"todosquid-adb18.appspot.com",messagingSenderId:"650094165810",appId:"1:650094165810:web:ed005ab5e0d9790ae4212b"});var q=u.a.firestore();o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(W,{db:q})}),document.getElementById("root"))}},[[246,1,2]]]);
//# sourceMappingURL=main.9e9e129f.chunk.js.map