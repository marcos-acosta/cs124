(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(17),d=n.n(a),i=n(40),c=n.n(i),o=n(5),s=n(15),r=n(41),l=n(31),u=n(42),j=(n(49),n(50),n(12));function p(){return Object(j.jsx)("div",{id:"toDoHeader",children:Object(j.jsx)("h2",{children:"todo \ud83e\udd91"})})}var b=n(29),k=(n(52),[1,2,3]);function f(e){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"toDoLowerHalf"}),Object(j.jsxs)("div",{className:"toDoItemOptions",children:[Object(j.jsx)("button",{className:"editButton toDoItemActionButton ".concat(e.taskInEditModeId===e.id?"grayText":""),onClick:e.onClickEditButton,children:"edit"}),Object(j.jsx)("button",{className:"deleteButton toDoItemActionButton ".concat(e.taskInEditModeId===e.id?"grayText":""),onClick:function(){return e.handleDeletion()},children:"delete"}),k.slice().reverse().map((function(t,n){return function(t,n){return Object(j.jsx)("button",{className:"priorityButton ".concat(e.priority===t?"whiteText priority".concat(t):""),onClick:function(){return e.handleChangePriority(t)},children:"!".repeat(t)},n)}(t,n)}))]})]})}n(53);function m(e){return Object(j.jsx)("div",{className:"toDoCheckbox",children:Object(j.jsx)("input",{type:"checkbox",id:"label-".concat(e.id),checked:e.checked,onChange:e.handleCompletion})})}n(54);function O(e){return Object(j.jsxs)("div",{className:"toDoLabel",children:[e.taskInEditModeId!==e.id&&Object(j.jsx)("label",{id:"label-".concat(e.id),className:e.isCompleted||e.shouldFadeOut?"strikethrough":"",children:e.expandedTaskId===e.id?e.taskName:(t=e.taskName,t.length>80?t.slice(0,80)+"\u2026":t)}),Object(j.jsx)("textarea",{value:e.taskName,onChange:function(t){return e.setTaskProperty(e.id,"taskName",function(e){for(;-1!==e.indexOf("\n");)e=e.replace("\n","");return e}(t.target.value))},onKeyUp:function(t){"Enter"===t.key&&e.setTaskInEditModeId(null)},ref:e.textInput,className:"".concat(e.taskInEditModeId!==e.id?"hidden":""),onBlur:e.deselectOnEditMode})]});var t}n(55);function x(e){return Object(j.jsx)("div",{className:"toDoOptions",children:Object(j.jsx)("div",{className:"toDoDropdown ".concat(e.expandedId===e.id?"selected":""),onClick:function(){return e.expandTaskCallback(e.id)},children:Object(j.jsx)("div",{className:"optionsArrow ".concat(e.expandedId===e.id?"rotated":""),children:"\u2794"})})})}n(56);function h(e){var t,n=Object(a.useState)(!1),d=Object(s.a)(n,2),i=d[0],c=d[1],o=Object(a.useRef)(null);function r(){c(!0),setTimeout((function(){return e.deleteTask(e.id)}),500)}return Object(a.useEffect)((function(){o.current&&e.taskInEditModeId===e.id&&o.current.focus()}),[e.taskInEditModeId,e.id]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("div",{className:"priorityMarker supportsInvisibility ".concat(i?"invisible":""),children:(t=e.priority,Object(j.jsx)("div",{className:"priorityExclamationDiv priority".concat(t),children:"!".repeat(t)}))}),Object(j.jsxs)("div",{className:"toDoItem supportsInvisibility ".concat(i?"invisible":""," ").concat(e.expandedTaskId===e.id?"highlighted":""),children:[Object(j.jsx)(m,{id:e.id,checked:e.isCompleted,handleCompletion:function(t){c(!0);var n=t.target.checked;setTimeout((function(){return e.setTaskProperty(e.id,"isCompleted",n)}),500)}}),Object(j.jsx)(O,Object(b.a)(Object(b.a)({},e),{},{textInput:o,deselectOnEditMode:function(){e.setTaskInEditModeId(null),e.taskName||r()},shouldFadeOut:i})),!e.isCompleted&&Object(j.jsx)(x,{id:e.id,expandedId:e.expandedTaskId,expandTaskCallback:e.expandTaskCallback}),e.expandedTaskId===e.id&&Object(j.jsx)(f,{priority:e.priority,id:e.id,taskInEditModeId:e.taskInEditModeId,handleChangePriority:function(t){e.priority===t?e.setTaskProperty(e.id,"priority",0):e.setTaskProperty(e.id,"priority",t)},onClickEditButton:function(){e.setTaskInEditModeId(e.id)},handleDeletion:r})]})]})}n(57);function I(e){return Object(j.jsx)("div",{className:"taskListDiv",children:e.tasks.map((function(t){return Object(a.createElement)(h,Object(b.a)(Object(b.a)({},t),{},{key:t.id,expandedTaskId:e.expandedTaskId,expandTaskCallback:e.toggleExpandedTaskId,setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask,setTaskInEditModeId:e.setTaskInEditModeId,taskInEditModeId:e.taskInEditModeId}))}))})}n(58);function T(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),d=n[0],i=n[1];return Object(j.jsxs)("div",{className:"completedSectionContainer ".concat(d?"invisible":""),children:[Object(j.jsx)("div",{id:"completedItemsHeader",children:Object(j.jsxs)("h3",{children:["completed",Object(j.jsx)("button",{id:"clearCompleted",onClick:function(){i(!0),setTimeout((function(){return e.deleteCompleted()}),500)},children:"clear"})]})}),Object(j.jsx)(I,{tasks:e.tasks,setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask})]})}n(59);function v(e){return Object(j.jsx)("button",{id:"addItemFooter",onClick:function(){return e.addTaskAndEdit()},disabled:e.inEditMode,children:"+ add item"})}n(60);function y(e){return Object(j.jsx)("select",{onChange:function(t){return e.onChangeCallback(t.target.value)},className:"optionSelector",children:e.options.map((function(e,t){var n=Object(s.a)(e,2),a=n[0],d=n[1];return Object(j.jsx)("option",{value:a,children:d},t)}))})}var C=[["oldestTop","oldest"],["newestTop","newest"],["taskName","name"],["priority","priority"]];var E=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),d=n[0],i=n[1];function c(){var t=e.addTask();e.setTaskInEditModeId(t),i(t)}return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(p,{}),Object(j.jsxs)("div",{id:"pageContent",children:[Object(j.jsxs)("div",{className:"noTopMargin",children:[Object(j.jsx)("div",{className:"sortByText",children:"sort by:"}),Object(j.jsx)(y,{options:C,onChangeCallback:e.setOrderingBy})]}),e.loading?Object(j.jsx)("div",{className:"infoText",children:"loading..."}):e.error?Object(j.jsx)("div",{className:"infoText errorText",children:"an unexpected error occurred!"}):Object(j.jsxs)(j.Fragment,{children:[0===e.data.filter((function(e){return!e.isCompleted})).length&&Object(j.jsx)("div",{id:"noTasksPlaceholder",onClick:c,children:"add a task!"}),Object(j.jsx)(I,{tasks:e.data.filter((function(e){return!e.isCompleted})),setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask,taskInEditModeId:e.taskInEditModeId,setTaskInEditModeId:e.setTaskInEditModeId,toggleExpandedTaskId:function(e){i(d===e?null:e)},expandedTaskId:d}),0===e.data.filter((function(e){return e.isCompleted})).length?"":Object(j.jsx)(T,{deleteCompleted:e.deleteCompleted,tasks:e.data.filter((function(e){return e.isCompleted})),setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask})]})]}),Object(j.jsx)(v,{inEditMode:!(null===e.taskInEditModeId&&!e.loading),addTaskAndEdit:c})]})};function g(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),d=n[0],i=n[1],c=Object(a.useState)(null),p=Object(s.a)(c,2),b=p[0],k=p[1],f=Object(a.useState)("created"),m=Object(s.a)(f,2),O=m[0],x=m[1],h=e.db.collection("marcos-acosta-tasks"),I=Object(r.a)(h),T=Object(s.a)(I,3),v=T[0],y=T[1],C=T[2],g={priority:function(e,t){return M(t).priority-M(e).priority},taskName:function(e,t){return M(e).taskName.toLowerCase()<M(t).taskName.toLowerCase()?-1:1},newestTop:function(e,t){return M(e).created<M(t).created?1:-1},oldestTop:function(e,t){return M(e).created<M(t).created?-1:1}};Object(a.useEffect)((function(){y||C||i(b?v.docs.map((function(e){return e.data()})).filter((function(e){return e.id===b}))[0]:null)}),[b,y,C]),Object(a.useEffect)((function(){console.log(d)}),[d]);var M=function(e){return d&&e.id===d.id?d:e},N=function(e){h.doc(e).delete()};return Object(j.jsx)(E,{setTaskProperty:function(e,t,n){h.doc(e).update(Object(o.a)({},t,n))},deleteTask:N,deleteCompleted:function(){return v.docs.map((function(e){return e.data()})).filter((function(e){return e.isCompleted})).forEach((function(e){return N(e.id)}))},setOrderingBy:x,addTask:function(){var e=Object(u.a)();return h.doc(e).set({taskName:"",isCompleted:!1,id:e,created:l.a.database.ServerValue.TIMESTAMP,priority:0}),e},data:y?null:v.docs.map((function(e){return e.data()})).sort(g[O]),loading:y,error:C,taskInEditModeId:b,setTaskInEditModeId:k})}l.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var M=l.a.firestore();c.a.render(Object(j.jsx)(d.a.StrictMode,{children:Object(j.jsx)(g,{db:M})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.c4cbb2f9.chunk.js.map