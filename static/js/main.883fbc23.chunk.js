(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{49:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(19),d=n.n(a),i=n(40),o=n.n(i),c=n(5),s=n(15),r=n(41),l=n(31),u=n(42),p=(n(49),n(50),n(12));function j(){return Object(p.jsx)("div",{id:"toDoHeader",children:Object(p.jsx)("h2",{children:"todo \ud83e\udd91"})})}var k=n(29),b=(n(52),[1,2,3]);function f(e){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"toDoLowerHalf"}),Object(p.jsxs)("div",{className:"toDoItemOptions",children:[Object(p.jsx)("button",{className:"editButton toDoItemActionButton ".concat(e.taskInEditModeId===e.id?"grayText":""),onClick:e.onClickEditButton,children:"edit"}),Object(p.jsx)("button",{className:"deleteButton toDoItemActionButton ".concat(e.taskInEditModeId===e.id?"grayText":""),onClick:function(){return e.handleDeletion()},children:"delete"}),b.slice().reverse().map((function(t,n){return function(t,n){return Object(p.jsx)("button",{className:"priorityButton ".concat(e.priority===t?"whiteText priority".concat(t):""),onClick:function(){return e.handleChangePriority(t)},children:"!".repeat(t)},n)}(t,n)}))]})]})}n(53);function m(e){return Object(p.jsx)("div",{className:"toDoCheckbox",children:Object(p.jsx)("input",{type:"checkbox",id:"label-".concat(e.id),checked:e.checked,onChange:e.handleCompletion})})}n(54);function x(e){return Object(p.jsxs)("div",{className:"toDoLabel",children:[e.taskInEditModeId!==e.id&&Object(p.jsx)("label",{id:"label-".concat(e.id),className:e.isCompleted||e.shouldFadeOut?"strikethrough":"",children:e.expandedTaskId===e.id?e.taskName:(t=e.taskName,t.length>80?t.slice(0,80)+"\u2026":t)}),Object(p.jsx)("textarea",{value:e.taskName,onChange:function(t){return e.setTaskProperty(e.id,"taskName",function(e){for(;-1!==e.indexOf("\n");)e=e.replace("\n","");return e}(t.target.value))},onKeyUp:function(t){"Enter"===t.key&&e.setTaskInEditModeId(null)},ref:e.textInput,className:"".concat(e.taskInEditModeId!==e.id?"hidden":""),onBlur:e.deselectOnEditMode})]});var t}n(55);function O(e){return Object(p.jsx)("div",{className:"toDoOptions",children:Object(p.jsx)("div",{className:"toDoDropdown ".concat(e.expandedId===e.id?"selected":""),onClick:function(){return e.expandTaskCallback(e.id)},children:Object(p.jsx)("div",{className:"optionsArrow ".concat(e.expandedId===e.id?"rotated":""),children:"\u2794"})})})}n(56);function h(e){var t,n=Object(a.useState)(!1),d=Object(s.a)(n,2),i=d[0],o=d[1],c=Object(a.useRef)(null);function r(){o(!0),setTimeout((function(){return e.deleteTask(e.id)}),500)}return Object(a.useEffect)((function(){c.current&&e.taskInEditModeId===e.id&&c.current.focus()}),[e.taskInEditModeId,e.id]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"priorityMarker supportsInvisibility ".concat(i?"invisible":""),children:(t=e.priority,Object(p.jsx)("div",{className:"priorityExclamationDiv priority".concat(t),children:"!".repeat(t)}))}),Object(p.jsxs)("div",{className:"toDoItem supportsInvisibility ".concat(i?"invisible":""," ").concat(e.expandedTaskId===e.id?"highlighted":""),children:[Object(p.jsx)(m,{id:e.id,checked:e.isCompleted,handleCompletion:function(t){o(!0);var n=t.target.checked;setTimeout((function(){return e.setTaskProperty(e.id,"isCompleted",n)}),500)}}),Object(p.jsx)(x,Object(k.a)(Object(k.a)({},e),{},{textInput:c,deselectOnEditMode:function(){e.setTaskInEditModeId(null),e.taskName||r()},shouldFadeOut:i})),!e.isCompleted&&Object(p.jsx)(O,{id:e.id,expandedId:e.expandedTaskId,expandTaskCallback:e.expandTaskCallback}),e.expandedTaskId===e.id&&Object(p.jsx)(f,{priority:e.priority,id:e.id,taskInEditModeId:e.taskInEditModeId,handleChangePriority:function(t){e.priority===t?e.setTaskProperty(e.id,"priority",0):e.setTaskProperty(e.id,"priority",t)},onClickEditButton:function(){e.setTaskInEditModeId(e.id)},handleDeletion:r})]})]})}n(57);function I(e){return Object(p.jsx)("div",{className:"taskListDiv",children:e.tasks.map((function(t){return Object(a.createElement)(h,Object(k.a)(Object(k.a)({},t),{},{key:t.id,expandedTaskId:e.expandedTaskId,expandTaskCallback:e.toggleExpandedTaskId,setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask,setTaskInEditModeId:e.setTaskInEditModeId,taskInEditModeId:e.taskInEditModeId}))}))})}n(58);function T(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),d=n[0],i=n[1];return Object(p.jsxs)("div",{className:"completedSectionContainer ".concat(d?"invisible":""),children:[Object(p.jsx)("div",{id:"completedItemsHeader",children:Object(p.jsxs)("h3",{children:["completed",Object(p.jsx)("button",{id:"clearCompleted",onClick:function(){i(!0),setTimeout((function(){return e.deleteCompleted()}),500)},children:"clear"})]})}),Object(p.jsx)(I,{tasks:e.tasks,setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask})]})}n(59);function v(e){return Object(p.jsx)("button",{id:"addItemFooter",onClick:function(){return e.addTaskAndEdit()},disabled:e.inEditMode,children:"+ add item"})}n(60);function y(e){return Object(p.jsx)("select",{onChange:function(t){return e.onChangeCallback(t.target.value)},className:"optionSelector",children:e.options.map((function(e,t){var n=Object(s.a)(e,2),a=n[0],d=n[1];return Object(p.jsx)("option",{value:a,children:d},t)}))})}var C=[["oldestTop","oldest"],["newestTop","newest"],["taskName","name"],["priority","priority"]];var E=function(e){var t=Object(a.useState)(null),n=Object(s.a)(t,2),d=n[0],i=n[1];function o(){var t=e.addTask();e.setTaskInEditModeId(t),i(t)}return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j,{}),Object(p.jsxs)("div",{id:"pageContent",children:[Object(p.jsxs)("div",{className:"noTopMargin",children:[Object(p.jsx)("div",{className:"sortByText",children:"sort by:"}),Object(p.jsx)(y,{options:C,onChangeCallback:e.setOrderingBy})]}),e.loading?Object(p.jsx)("div",{className:"infoText",children:"loading..."}):e.error?Object(p.jsx)("div",{className:"infoText errorText",children:"an unexpected error occurred!"}):Object(p.jsxs)(p.Fragment,{children:[0===e.data.filter((function(e){return!e.isCompleted})).length&&Object(p.jsx)("div",{id:"noTasksPlaceholder",onClick:o,children:"add a task!"}),Object(p.jsx)(I,{tasks:e.data.filter((function(e){return!e.isCompleted})),setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask,taskInEditModeId:e.taskInEditModeId,setTaskInEditModeId:e.setTaskInEditModeId,toggleExpandedTaskId:function(e){i(d===e?null:e)},expandedTaskId:d}),0===e.data.filter((function(e){return e.isCompleted})).length?"":Object(p.jsx)(T,{deleteCompleted:e.deleteCompleted,tasks:e.data.filter((function(e){return e.isCompleted})),setTaskProperty:e.setTaskProperty,deleteTask:e.deleteTask})]})]}),Object(p.jsx)(v,{inEditMode:!(null===e.taskInEditModeId&&!e.loading),addTaskAndEdit:o})]})};function g(e){var t={priority:function(e,t){return v(e,t.priority-e.priority)},taskName:function(e,t){return v(e,e.taskName.toLowerCase()<t.taskName.toLowerCase()?-1:1)},newestTop:function(e,t){return v(e,e.created<t.created?1:-1)},oldestTop:function(e,t){return v(e,e.created<t.created?-1:1)}},n=Object(a.useState)(null),d=Object(s.a)(n,2),i=d[0],o=d[1],j=Object(a.useState)("created"),k=Object(s.a)(j,2),b=k[0],f=k[1],m=e.db.collection("marcos-acosta-tasks"),x=Object(r.a)(m),O=Object(s.a)(x,3),h=O[0],I=O[1],T=O[2],v=function(e,t){return function(e){return e.id===i}(e)?1:t},y=function(e){m.doc(e).delete()};return Object(p.jsx)(E,{setTaskProperty:function(e,t,n){m.doc(e).update(Object(c.a)({},t,n))},deleteTask:y,deleteCompleted:function(){return h.docs.map((function(e){return e.data()})).filter((function(e){return e.isCompleted})).forEach((function(e){return y(e.id)}))},setOrderingBy:f,addTask:function(){var e=Object(u.a)();return m.doc(e).set({taskName:"",isCompleted:!1,id:e,created:l.a.database.ServerValue.TIMESTAMP,priority:0}),e},data:I?null:h.docs.map((function(e){return e.data()})).sort(t[b]),loading:I,error:T,taskInEditModeId:i,setTaskInEditModeId:o})}l.a.initializeApp({apiKey:"AIzaSyCd9qqxvMpEKpBzwfWcc2tlRFa6ICaLH_s",authDomain:"hmc-cs124-fa21-labs.firebaseapp.com",projectId:"hmc-cs124-fa21-labs",storageBucket:"hmc-cs124-fa21-labs.appspot.com",messagingSenderId:"949410042946",appId:"1:949410042946:web:0113b139a7e3cd1cc709db"});var M=l.a.firestore();o.a.render(Object(p.jsx)(d.a.StrictMode,{children:Object(p.jsx)(g,{db:M})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.883fbc23.chunk.js.map